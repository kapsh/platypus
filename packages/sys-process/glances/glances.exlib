# Copyright 2012 William Orr <will@worrbase.com>
# Distributed under the terms of the GNU General Public License v2

require setuptools github [ user=nicolargo ]

SUMMARY="A curses monitoring tool for linux"
DESCRIPTION="
Glances is a CLI curses based monitoring tool for GNU/Linux and BSD OS.

Glances uses the PsUtil library to get information from your system.
"

LICENCES="LGPL-3"
MYOPTIONS=""

DEPENDENCIES="
    build+run:
        dev-lang/python:*[>=2.6]
        dev-python/psutil[>=2.0.0]
"

BUGS_TO="will@worrbase.com"

src_test() {
    esandbox allow_net --connect "inet:127.0.0.1/0@7634"
    python unitest.py
    esandbox disallow_net --connect "inet:127.0.0.1/0@7634"
}

src_install() {
    distutils_src_install

    # XXX: Remove duplicate doc installed by emagicdocs (distutils)
    edo rm -r ${IMAGE}/usr/share/doc/${PNVR}
    # And move the original doc
    edo mv ${IMAGE}/usr/share/doc/{${PN},${PNVR}}
}
